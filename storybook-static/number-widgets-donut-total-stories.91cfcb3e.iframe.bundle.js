"use strict";(self.webpackChunkmy_design_system=self.webpackChunkmy_design_system||[]).push([[8674],{"./stories/number-widgets/donut-total.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Large:()=>Large,Medium:()=>Medium,Small:()=>Small,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={title:"Number Widgets/Donut Total",component:__webpack_require__("./components/charts/donut-total.tsx").p,parameters:{layout:"centered"},tags:["autodocs"]},Small={args:{data:[{name:"Used",value:850,trend:12},{name:"Available",value:150,trend:-5}],trend:12,label:"Storage",size:"sm"}},Medium={args:{data:[{name:"Active",value:4500,trend:10},{name:"Inactive",value:2500,trend:-8},{name:"New",value:1500,trend:5}],trend:-5,label:"Users",size:"md"}},Large={args:{data:[{name:"Q1",value:35e3,trend:15},{name:"Q2",value:28e3,trend:10},{name:"Q3",value:22e3,trend:-5},{name:"Q4",value:15e3,trend:-12}],trend:8,label:"Revenue",size:"lg"}},__namedExportsOrder=["Small","Medium","Large"];Small.parameters={...Small.parameters,docs:{...Small.parameters?.docs,source:{originalSource:'{\n  args: {\n    data: [{\n      name: "Used",\n      value: 850,\n      trend: 12\n    }, {\n      name: "Available",\n      value: 150,\n      trend: -5\n    }],\n    trend: 12,\n    label: "Storage",\n    size: "sm"\n  }\n}',...Small.parameters?.docs?.source}}},Medium.parameters={...Medium.parameters,docs:{...Medium.parameters?.docs,source:{originalSource:'{\n  args: {\n    data: [{\n      name: "Active",\n      value: 4500,\n      trend: 10\n    }, {\n      name: "Inactive",\n      value: 2500,\n      trend: -8\n    }, {\n      name: "New",\n      value: 1500,\n      trend: 5\n    }],\n    trend: -5,\n    label: "Users",\n    size: "md"\n  }\n}',...Medium.parameters?.docs?.source}}},Large.parameters={...Large.parameters,docs:{...Large.parameters?.docs,source:{originalSource:'{\n  args: {\n    data: [{\n      name: "Q1",\n      value: 35000,\n      trend: 15\n    }, {\n      name: "Q2",\n      value: 28000,\n      trend: 10\n    }, {\n      name: "Q3",\n      value: 22000,\n      trend: -5\n    }, {\n      name: "Q4",\n      value: 15000,\n      trend: -12\n    }],\n    trend: 8,\n    label: "Revenue",\n    size: "lg"\n  }\n}',...Large.parameters?.docs?.source}}}},"./components/charts/donut-total.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>DonutTotal});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),card=__webpack_require__("./components/ui/card.tsx"),badge=__webpack_require__("./components/ui/badge.tsx"),utils=__webpack_require__("./lib/utils.ts");const sizeConfigs={donut:{sm:{width:140,height:140,strokeWidth:12,valueSize:"text-lg",labelSize:"text-xs",badgeSize:"text-[10px]"},md:{width:180,height:180,strokeWidth:16,valueSize:"text-xl",labelSize:"text-sm",badgeSize:"text-xs"},lg:{width:220,height:220,strokeWidth:20,valueSize:"text-2xl",labelSize:"text-base",badgeSize:"text-sm"}},sparkline:{sm:{width:280,height:140,valueSize:"text-xl",labelSize:"text-xs",barHeight:8,tickHeight:16,padding:"p-3",chartPadding:80,titleSize:"text-xs"},md:{width:320,height:180,valueSize:"text-2xl",labelSize:"text-sm",barHeight:12,tickHeight:24,padding:"p-4",chartPadding:90,titleSize:"text-sm"},lg:{width:380,height:220,valueSize:"text-3xl",labelSize:"text-base",barHeight:16,tickHeight:32,padding:"p-5",chartPadding:100,titleSize:"text-base"}}};var react_icons_esm=__webpack_require__("./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");const getTrendIcon=trend=>trend>0?(0,jsx_runtime.jsx)(react_icons_esm.Kpk,{className:"h-3 w-3"}):trend<0?(0,jsx_runtime.jsx)(react_icons_esm.ZLN,{className:"h-3 w-3"}):(0,jsx_runtime.jsx)(react_icons_esm.flY,{className:"h-3 w-3"}),getTrendColor=trend=>trend>0?"bg-emerald-500/15 text-emerald-500 hover:bg-emerald-500/25":trend<0?"bg-red-500/15 text-red-500 hover:bg-red-500/25":"bg-gray-500/15 text-gray-500 hover:bg-gray-500/25";function DonutTotal({data,trend,label="Total",className,size="md"}){const[hoveredCategory,setHoveredCategory]=(0,react.useState)(null),config=sizeConfigs.donut[size],total=data.reduce(((sum,item)=>sum+item.value),0);console.log("DonutTotal props:",{data,trend,label,size}),console.log("Total:",total);const radius=(config.width-config.strokeWidth)/2,describeArc=(Math.PI,(startAngle,endAngle)=>{const start=polarToCartesian(config.width/2,config.height/2,radius,endAngle),end=polarToCartesian(config.width/2,config.height/2,radius,startAngle),largeArcFlag=endAngle-startAngle<=180?"0":"1";return["M",start.x,start.y,"A",radius,radius,0,largeArcFlag,0,end.x,end.y].join(" ")}),polarToCartesian=(centerX,centerY,radius,angleInDegrees)=>{const angleInRadians=(angleInDegrees-90)*Math.PI/180;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)}};let currentAngle=0;const categoryArcs=data.map((category=>{const percentage=category.value/total*100,startAngle=currentAngle,endAngle=currentAngle+percentage/100*360;return currentAngle=endAngle,{path:describeArc(startAngle,endAngle),percentage}})),colors=["stroke-sky-700","stroke-sky-600","stroke-sky-500","stroke-sky-400"],hoveredData=hoveredCategory?data.find((category=>category.name===hoveredCategory)):null;var _hoveredData_trend;const currentTrend=null!==(_hoveredData_trend=null==hoveredData?void 0:hoveredData.trend)&&void 0!==_hoveredData_trend?_hoveredData_trend:trend;console.log("Hover state:",{hoveredCategory,hoveredData,displayName:hoveredData?hoveredData.name:label,displayValue:hoveredData?hoveredData.value:total});const handleMouseLeave=()=>{console.log("Mouse leave"),setHoveredCategory(null)};return(0,jsx_runtime.jsx)(card.Zp,{className,children:(0,jsx_runtime.jsx)(card.Wu,{className:"pt-6",children:(0,jsx_runtime.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,jsx_runtime.jsxs)("div",{className:"relative",style:{width:config.width,height:config.height},children:[(0,jsx_runtime.jsx)("div",{className:"absolute inset-0",children:(0,jsx_runtime.jsx)("svg",{width:config.width,height:config.height,viewBox:`0 0 ${config.width} ${config.height}`,children:data.map(((category,index)=>(0,jsx_runtime.jsx)("path",{d:categoryArcs[index].path,fill:"none",className:(0,utils.cn)("transition-all duration-300 ease-in-out cursor-pointer pointer-events-auto",colors[index%colors.length],hoveredCategory===category.name&&"brightness-110"),strokeWidth:config.strokeWidth,onMouseEnter:()=>(category=>{console.log("Mouse enter:",category),setHoveredCategory(category)})(category.name),onMouseLeave:handleMouseLeave},category.name)))})}),(0,jsx_runtime.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[(0,jsx_runtime.jsx)("div",{className:(0,utils.cn)("text-muted-foreground",config.labelSize),children:hoveredData?hoveredData.name:label}),(0,jsx_runtime.jsx)("div",{className:(0,utils.cn)("font-semibold",config.valueSize),children:hoveredData?hoveredData.value.toLocaleString():total.toLocaleString()}),void 0!==currentTrend&&(0,jsx_runtime.jsxs)(badge.E,{variant:"secondary",className:(0,utils.cn)("flex items-center gap-0.5 font-normal py-0.5 px-1.5 h-4",getTrendColor(currentTrend),config.badgeSize),children:[getTrendIcon(currentTrend),Math.abs(currentTrend),"%"]})]})]})})})})}DonutTotal.__docgenInfo={description:"",methods:[],displayName:"DonutTotal",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"Category"}],raw:"Category[]"},description:""},trend:{required:!1,tsType:{name:"number"},description:""},label:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Total"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"unknown"},description:"",defaultValue:{value:'"md"',computed:!1}}}}},"./components/ui/badge.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>Badge});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),class_variance_authority__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs")),_lib_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./lib/utils.ts");const badgeVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.F)("inline-flex items-center rounded-full border border-neutral-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 dark:border-neutral-800 dark:focus:ring-neutral-300",{variants:{variant:{default:"border-transparent bg-neutral-900 text-neutral-50 hover:bg-neutral-900/80 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/80",secondary:"border-transparent bg-neutral-100 text-neutral-900 hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",destructive:"border-transparent bg-red-500 text-neutral-50 hover:bg-red-500/80 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/80",outline:"text-neutral-950 dark:text-neutral-50"}},defaultVariants:{variant:"default"}});function Badge({className,variant,...props}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(badgeVariants({variant}),className),...props})}Badge.__docgenInfo={description:"",methods:[],displayName:"Badge",composes:["VariantProps"]}},"./components/ui/card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BT:()=>CardDescription,Wu:()=>CardContent,ZB:()=>CardTitle,Zp:()=>Card,aR:()=>CardHeader,wL:()=>CardFooter});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils.ts");const Card=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("rounded-lg border border-neutral-200 bg-white text-neutral-950 shadow-sm dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",className),...props})));Card.displayName="Card";const CardHeader=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-col space-y-1.5 p-6",className),...props})));CardHeader.displayName="CardHeader";const CardTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-2xl font-semibold leading-none tracking-tight",className),...props})));CardTitle.displayName="CardTitle";const CardDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-sm text-neutral-500 dark:text-neutral-400",className),...props})));CardDescription.displayName="CardDescription";const CardContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("p-6 pt-0",className),...props})));CardContent.displayName="CardContent";const CardFooter=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex items-center p-6 pt-0",className),...props})));CardFooter.displayName="CardFooter",Card.__docgenInfo={description:"",methods:[],displayName:"Card"},CardHeader.__docgenInfo={description:"",methods:[],displayName:"CardHeader"},CardFooter.__docgenInfo={description:"",methods:[],displayName:"CardFooter"},CardTitle.__docgenInfo={description:"",methods:[],displayName:"CardTitle"},CardDescription.__docgenInfo={description:"",methods:[],displayName:"CardDescription"},CardContent.__docgenInfo={description:"",methods:[],displayName:"CardContent"}},"./lib/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.$)(inputs))}},"./node_modules/class-variance-authority/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>cva});var clsx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs");const falsyToString=value=>"boolean"==typeof value?`${value}`:0===value?"0":value,cx=clsx__WEBPACK_IMPORTED_MODULE_0__.$,cva=(base,config)=>props=>{var _config_compoundVariants;if(null==(null==config?void 0:config.variants))return cx(base,null==props?void 0:props.class,null==props?void 0:props.className);const{variants,defaultVariants}=config,getVariantClassNames=Object.keys(variants).map((variant=>{const variantProp=null==props?void 0:props[variant],defaultVariantProp=null==defaultVariants?void 0:defaultVariants[variant];if(null===variantProp)return null;const variantKey=falsyToString(variantProp)||falsyToString(defaultVariantProp);return variants[variant][variantKey]})),propsWithoutUndefined=props&&Object.entries(props).reduce(((acc,param)=>{let[key,value]=param;return void 0===value||(acc[key]=value),acc}),{}),getCompoundVariantClassNames=null==config||null===(_config_compoundVariants=config.compoundVariants)||void 0===_config_compoundVariants?void 0:_config_compoundVariants.reduce(((acc,param)=>{let{class:cvClass,className:cvClassName,...compoundVariantOptions}=param;return Object.entries(compoundVariantOptions).every((param=>{let[key,value]=param;return Array.isArray(value)?value.includes({...defaultVariants,...propsWithoutUndefined}[key]):{...defaultVariants,...propsWithoutUndefined}[key]===value}))?[...acc,cvClass,cvClassName]:acc}),[]);return cx(base,getVariantClassNames,getCompoundVariantClassNames,null==props?void 0:props.class,null==props?void 0:props.className)}}}]);